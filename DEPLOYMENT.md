# SIMA AI Deployment Guide

## Render Deployment

### 1. Environment Variables Setup

#### Frontend Service
```
NEXT_PUBLIC_API_URL=https://your-backend-service.onrender.com
NEXT_PUBLIC_APP_URL=https://your-frontend-service.onrender.com
```

#### Backend Service
```
NODE_ENV=production
PORT=8080
DATABASE_URL=[Auto-generated by Render PostgreSQL]
REDIS_URL=[Auto-generated by Render Redis]
JWT_SECRET=[Auto-generated secure key]
CORS_ORIGIN=https://your-frontend-service.onrender.com
OPENAI_API_KEY=sk-your-openai-key
```

### 2. Services to Create on Render

1. **PostgreSQL Database**
   - Service Type: PostgreSQL
   - Name: sima-ai-db

2. **Redis Cache**
   - Service Type: Redis
   - Name: sima-ai-redis

3. **Backend API**
   - Service Type: Web Service
   - Build Command: `cd backend && npm install`
   - Start Command: `cd backend && npm start`
   - Environment: Node.js

4. **Frontend Web App**
   - Service Type: Web Service
   - Build Command: `cd frontend && npm install && npm run build`
   - Start Command: `cd frontend && npm start`
   - Environment: Node.js

### 3. Required API Keys

- **OpenAI API Key**: For AI chat functionality
- **Anthropic API Key**: Alternative AI provider (optional)

### 4. File Structure for Deployment

```
SIMA_AI_UNIFIED_V1p1/
├── frontend/
│   ├── package.json
│   ├── .env.example
│   └── .env.local (for local dev)
├── backend/
│   ├── package.json
│   ├── .env.example
│   └── .env (for local dev)
└── render.yaml (deployment config)
```

### 5. Deployment Steps

1. Push code to GitHub (without node_modules and large files)
2. Connect GitHub repo to Render
3. Create PostgreSQL and Redis services first
4. Create backend service with environment variables
5. Create frontend service linking to backend
6. Update CORS_ORIGIN in backend to match frontend URL

### 6. Post-Deployment

- Test all API endpoints
- Verify file upload functionality
- Check database connections
- Test real-time features (WebSocket/MQTT)

## Local Development

1. Copy `.env.example` to `.env` in both frontend and backend
2. Update environment variables with your local values
3. Run `npm install` in both directories
4. Start backend: `cd backend && npm run dev`
5. Start frontend: `cd frontend && npm run dev`

## Production Checklist

- [ ] All environment variables set
- [ ] Database connected
- [ ] Redis connected
- [ ] CORS configured correctly
- [ ] File upload working
- [ ] AI services connected
- [ ] SSL certificates active
- [ ] Monitoring enabled